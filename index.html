<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>AI ì˜ì–´ì‚¬ì „ (gpt-5-mini)</title>
    <style>
        body { font-family: sans-serif; display: flex; flex-direction: column; height: 100vh; margin: 0; padding: 20px; box-sizing: border-box; }
        h2 { text-align: center; }
        .container { display: flex; gap: 20px; flex: 1; }
        .box { flex: 1; display: flex; flex-direction: column; gap: 10px; border: 1px solid #ccc; padding: 20px; border-radius: 10px; }
        textarea { flex: 1; padding: 10px; font-size: 16px; border: 1px solid #ddd; border-radius: 5px; resize: none; }
        button { padding: 15px; font-size: 18px; cursor: pointer; background-color: #007bff; color: white; border: none; border-radius: 5px; }
        button:disabled { background-color: #ccc; }
    </style>
</head>
<body>
    <h2>ğŸ“š AI ìŠ¤ë§ˆíŠ¸ ì˜ì–´ì‚¬ì „</h2>
    <div class="container">
        <div class="box">
            <h3>English (ì˜ì–´)</h3>
            <textarea id="enInput" placeholder="English text here..."></textarea>
            <button id="btnEnToKo">í•œê¸€ë¡œ ë²ˆì—­ (En â†’ Ko) â†’</button>
        </div>

        <div class="box">
            <h3>Korean (í•œê¸€)</h3>
            <textarea id="koInput" placeholder="í•œê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
            <button id="btnKoToEn">â† ì˜ì–´ë¡œ ë²ˆì—­ (Ko â†’ En)</button>
        </div>
    </div>

    <script>
        const WORKER_URL = "https://delicate-sea-d954.saepyul.workers.dev/";

        async function askAI(message) {
            try {
                const res = await fetch(WORKER_URL, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ message: message }) // JSON ë©ì–´ë¦¬ë¡œ í¬ì¥
                });
                const data = await res.json();
                return data.reply; // AIì˜ ë‹µë³€ë§Œ ì¶”ì¶œ
            } catch (e) {
                return "ì—ëŸ¬ ë°œìƒ: " + e.message;
            }
        }

        // ì˜ì–´ -> í•œê¸€ ë²ˆì—­
        document.getElementById("btnEnToKo").onclick = async () => {
            const text = document.getElementById("enInput").value;
            if (!text) return;
            document.getElementById("btnEnToKo").disabled = true;
            const prompt = `Translate the following English text into natural Korean: "${text}"`;
            const result = await askAI(prompt);
            document.getElementById("koInput").value = result;
            document.getElementById("btnEnToKo").disabled = false;
        };

        // í•œê¸€ -> ì˜ì–´ ë²ˆì—­
        document.getElementById("btnKoToEn").onclick = async () => {
            const text = document.getElementById("koInput").value;
            if (!text) return;
            document.getElementById("btnKoToEn").disabled = true;
            const prompt = `ë‹¤ìŒ í•œêµ­ì–´ ë¬¸ì¥ì„ ìì—°ìŠ¤ëŸ¬ìš´ ì˜ì–´ë¡œ ë²ˆì—­í•´ì¤˜: "${text}"`;
            const result = await askAI(prompt);
            document.getElementById("enInput").value = result;
            document.getElementById("btnKoToEn").disabled = false;
        };
    </script>
</body>
</html>